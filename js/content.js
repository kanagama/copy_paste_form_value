var he=Object.defineProperty;var ue=(e,a,i)=>a in e?he(e,a,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[a]=i;var h=(e,a,i)=>(ue(e,typeof a!="symbol"?a+"":a,i),i),$=(e,a,i)=>{if(!a.has(e))throw TypeError("Cannot "+i)};var o=(e,a,i)=>($(e,a,"read from private field"),i?i.call(e):a.get(e)),l=(e,a,i)=>{if(a.has(e))throw TypeError("Cannot add the same private member more than once");a instanceof WeakSet?a.add(e):a.set(e,i)},c=(e,a,i,d)=>($(e,a,"write to private field"),d?d.call(e,i):a.set(e,i),i);(function(){"use strict";var M,k,H,S,K,x,L,f,C,y,B,v,w,I,E,P,F;const e=Object.freeze({CopyPasteCheckboxId:"toggle-checkbox",FlashMessageCheckboxId:"message-checkbox",HiddenCheckboxId:"hidden-checkbox",StorageCheckboxId:"storage-checkbox",AutoPasteCheckboxId:"autopaste-checkbox",StatusId:"copy-paste-form-status",FlashMessageId:"copy-paste-form-value-error-message",CopyBtnId:"copy_button_a",PasteBtnId:"paste_button_a",HiddenClass:"copy-paste-form-value-hidden",FlashMessageClass:"copy-paste-form-value-message",StorageClass:"cpy-paste-form-value-storage",AutoPasteClass:"copy-paste-form-value-autopaste",StorageName:"storage-checkbox"});class a{checkFormCount(){return this.getFormCount()==1}element(){return document.getElementsByTagName("form")}getFormCount(){return this.element().length}}class i{constructor(){l(this,M,void 0);c(this,M,new a)}getDisabledName(){return["_method","_csrfToken","_token"]}hasHiddenClass(){return document.getElementById(e.StatusId).classList.contains(e.HiddenClass)}inArray(t){return[].indexOf.call(this.getDisabledName(),t)}serializeArray(){if(!o(this,M).checkFormCount())return{};let t={};return document.querySelector("form").querySelectorAll("input, select, textarea").forEach(s=>{s.getAttribute("type")==="hidden"&&!this.hasHiddenClass()||s.getAttribute("type")==="submit"||s.getAttribute("type")==="reset"||s.getAttribute("type")==="radio"&&s.checked!==!0||(t[s.getAttribute("name")]=s.value)}),JSON.stringify(t)}setForm(t,s){return this.input(t,s)||this.select(t,s)||this.textarea(t,s)}dispatch(t){t.dispatchEvent(new Event("change")),t.dispatchEvent(new Event("change")),setTimeout(()=>{},20)}input(t,s){let r=document.querySelectorAll("input[name="+t+"]");if(r.length<=0)return console.log("input form not found."),!1;if(r.length>1){let u="";return r.forEach(g=>{if(u=g.getAttribute("type"),u!=="checkbox"&&u!=="radio")return!0;if(g.value===s)return g.checked=!0,this.dispatch(g),!1}),!0}return r.forEach(u=>u.getAttribute("type")==="hidden"&&!this.hasHiddenClass()?(console.log("The hidden element is not copied."),!0):(u.value=s,this.dispatch(u),!1)),!0}select(t,s){let r=document.querySelector("select[name="+t+"]");return r==null||r.length<=0?(console.log("textarea not found."),!1):(r.value=s,this.dispatch(r),!0)}textarea(t,s){let r=document.querySelector("textarea[name="+t+"]");return r==null||r.length<=0?!1:(r.value=s,this.dispatch(r),!0)}selectorEscape(t){return t.replace(/[ !"#$%&'()*+,.\/:;<=>?@\[\\\]^`{|}~]/g,"\\$&")}}M=new WeakMap;class d{constructor(){this.load()}key(){return e.StatusId}element(){return document.getElementById(this.key())}load(){return this.element()?!1:(document.body.insertAdjacentHTML("beforeend",this.html()),chrome.storage.local.get([e.HiddenCheckboxId],t=>{t[e.HiddenCheckboxId]&&this.addHidden()}),chrome.storage.local.get([e.FlashMessageCheckboxId],t=>{t[e.FlashMessageCheckboxId]&&this.addMessage()}),chrome.storage.local.get([e.StorageCheckboxId],t=>{t[e.StorageCheckboxId]&&this.addStorage()}),!0)}html(){return'<div  id="'+this.key()+'" class="" style=" display: none !important;"></div>'}hasHidden(){return this.element()?!!this.element().classList.contains(e.HiddenClass):!1}addHidden(){return this.element()?(this.element().classList.add(e.HiddenClass),!0):!1}removeHidden(){return this.element()?(this.element().classList.remove(e.HiddenClass),!0):!1}hasMessage(){return this.element()?!!this.element().classList.contains(e.FlashMessageClass):!1}addMessage(){return this.element()?(this.element().classList.add(e.FlashMessageClass),!0):!1}removeMessage(){return this.element()?(this.element().classList.remove(e.FlashMessageClass),!0):!1}hasStorage(){return this.element()?!!this.element().classList.contains(e.StorageClass):!1}addStorage(){return this.element()?(this.element().classList.add(e.StorageClass),!0):!1}removeStorage(){return this.element()?(this.element().classList.remove(e.StorageClass),!0):!1}hasAutoPaste(){return this.element()?!!this.element().classList.contains(e.AutoPasteClass):!1}addAutoPaste(){return this.element()?(this.element().classList.add(e.AutoPasteClass),!0):!1}removeAutoPaste(){return this.element()?(this.element().classList.remove(e.AutoPasteClass),!0):!1}}const b=class b{constructor(){l(this,H,void 0);l(this,S,void 0);if(o(b,k))return o(b,k);c(b,k,this),c(this,H,new d),this.set()}get(){return o(this,H).hasStorage()?o(this,S):"form_value"}set(){const t=location.hostname+location.pathname;c(this,S,t.replace(/\./g,"_"))}};k=new WeakMap,H=new WeakMap,S=new WeakMap,l(b,k,void 0);let p=b;class z{constructor(){l(this,K,void 0);l(this,x,void 0);l(this,L,void 0);c(this,K,new i),c(this,x,new a),c(this,L,new p),this.load(),this.toggle()}key(){return e.CopyBtnId}storageKey(){return e.CopyPasteCheckboxId}element(){return document.getElementById(this.key())}load(){return this.element()||!o(this,x).checkFormCount()||(document.body.insertAdjacentHTML("beforeend",this.html()),this.element().addEventListener("click",()=>{this.clickEvent()})),!1}toggle(){chrome.storage.local.get([this.storageKey()],t=>{this.hide(),t[this.storageKey()]&&this.show(),console.log("loaded this "+this.key()+".")})}show(){return this.element()?(this.element().style.display="flex",!0):!1}hide(){return this.element()?(this.element().style.display="none",!0):!1}html(){return'<a title="Alt + i" id="'+this.key()+`" onMouseOver="this.style.border='solid 2px #3293e7';this.style.color='#3293e7';" onMouseOut="this.style.border='solid 2px #000';this.style.color='#000';" style="display:none;border:solid 2px #000;font-weight:bold;transition: none!important;height: 50px;width: 50px;position: fixed;right: 30px;bottom: 90px;border: solid 2px #000;border-radius: 50%;justify-content: center;align-items: center;z-index: calc(infinity);box-shadow: 0 4px 6px rgb(0 0 0 / 30%);"><div>Copy</div></a>`}clickEvent(){if(!o(this,x).checkFormCount())return console.log("form not exists. clickEvent"),!1;const t={[o(this,L).get()]:o(this,K).serializeArray()};return chrome.storage.local.set(t,()=>{console.log("saved this form. clickEvent")}),!0}}K=new WeakMap,x=new WeakMap,L=new WeakMap;class _{constructor(){l(this,f,void 0);l(this,C,void 0);l(this,y,void 0);c(this,f,new i),c(this,C,new a),c(this,y,new p),this.load(),this.toggle()}key(){return e.PasteBtnId}storageKey(){return e.CopyPasteCheckboxId}element(){return document.getElementById(this.key())}load(){return this.element()||!o(this,C).checkFormCount()?!1:(document.body.insertAdjacentHTML("beforeend",this.html()),this.element().addEventListener("click",()=>{this.clickEvent()}),!0)}toggle(){this.hide(),chrome.storage.local.get([this.storageKey()],t=>{t[this.storageKey()]&&this.show(),console.log("loaded this "+this.key()+".")})}show(){return this.element()?(this.element().style.display="flex",!0):!1}hide(){return this.element()?(this.element().style.display="none",!0):!1}html(){return`<a title="Alt + o" id="paste_button_a" onMouseOver="this.style.border='solid 2px #3293e7';this.style.color='#3293e7';" onMouseOut="this.style.border='solid 2px #000';this.style.color='#000';" style="display:none;border:solid 2px #000;font-weight:bold;transition: none!important;height: 50px;width: 50px;position: fixed;right: 30px;bottom: 30px;border: solid 2px #000;border-radius: 50%;justify-content: center;align-items: center;z-index: calc(infinity);box-shadow: 0 4px 6px rgb(0 0 0 / 30%);"><div>Paste</div></a>`}clickEvent(){return o(this,C).checkFormCount()?(chrome.storage.local.get([o(this,y).get()],t=>{if(!t.hasOwnProperty(o(this,y).get()))return console.log("copy data not exists. clickEvent"),!1;let s=JSON.parse(t[o(this,y).get()]);Object.keys(s).forEach(r=>{o(this,f).inArray(r)&&o(this,f).setForm(o(this,f).selectorEscape(r),s[r])})}),console.log("loaded this form."),!0):(console.log("form not exists. clickEvent"),!1)}}f=new WeakMap,C=new WeakMap,y=new WeakMap;class R{constructor(){l(this,B,void 0);c(this,B,new a)}key(){return e.FlashMessageId}storageKey(){return e.FlashMessageCheckboxId}element(){return document.getElementById(this.key())}load(){return this.element()||o(this,B).checkFormCount()?!1:(chrome.storage.local.get([this.storageKey()],t=>{t[this.storageKey()]&&(document.body.insertAdjacentHTML("beforeend",this.html()),this.hide())}),!0)}has(){return this.element()}show(){return this.has()?!1:(this.load(),!0)}hide(){return this.element()?(setTimeout(()=>{if(!this.element())return;const t=1e3,s=100;let r=this.element().style.opacity,u=r/(t/s),g=setInterval(()=>{if(!this.element()){clearInterval(g);return}this.element().style.opacity=r,r-=u,r<=0&&(clearInterval(g),this.element().parentNode.removeChild(this.element()))},s)},2e3),!0):!1}html(){return'<div  id="'+this.key()+'" style=" position: fixed; bottom: 0%; left: 50%; transform: translateX(-50%); z-index: calc(infinity); background-color: #f44336; color: white; padding: 10px 20px; margin: 10px 0; border-radius: 5px; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.5); text-align: center; font-size: 16px; display: flex; opacity: 0.8; font-weight: bold;">Copy Paste Form Value - Error</div>'}}B=new WeakMap;class V{constructor(){l(this,v,void 0);l(this,w,void 0);c(this,v,new z),c(this,w,new _)}toggle(){return chrome.storage.local.get([e.CopyPasteCheckboxId],t=>{const s=!t[e.CopyPasteCheckboxId];this.hide(),s&&this.show();const r={[e.CopyPasteCheckboxId]:s};chrome.storage.local.set(r,()=>{console.log("saved this "+e.CopyPasteCheckboxId+".")})}),!0}show(){o(this,v).show(),o(this,w).show()}hide(){o(this,v).hide(),o(this,w).hide()}}v=new WeakMap,w=new WeakMap;class X{constructor(){l(this,I,void 0);c(this,I,new d)}toggle(){return chrome.storage.local.get([e.HiddenCheckboxId],t=>{const s=!t[e.HiddenCheckboxId];o(this,I).removeHidden(),s&&o(this,I).addHidden();const r={[e.HiddenCheckboxId]:s};chrome.storage.local.set(r,()=>{console.log("saved this "+e.HiddenCheckboxId+".")})}),!0}}I=new WeakMap;class G{constructor(){l(this,E,void 0);c(this,E,new d)}storageKey(){return e.FlashMessageCheckboxId}toggle(){return chrome.storage.local.get([this.storageKey()],t=>{const s=!t[this.storageKey()],r={[this.storageKey()]:s};chrome.storage.local.set(r,()=>{console.log("saved this "+this.storageKey()+".")}),o(this,E).removeMessage(),s&&o(this,E).addMessage()}),!0}}E=new WeakMap;class Q{constructor(){l(this,P,void 0);c(this,P,new d)}storageKey(){return e.StorageCheckboxId}toggle(){return chrome.storage.local.get([this.storageKey()],t=>{const s=!t[this.storageKey()],r={[this.storageKey()]:s};chrome.storage.local.set(r,()=>{console.log("saved this "+this.storageKey()+".")}),o(this,P).removeStorage(),s&&o(this,P).addStorage()}),!0}}P=new WeakMap;class U{constructor(){l(this,F,void 0);c(this,F,new d)}storageKey(){return e.AutoPasteCheckboxId}toggle(){return chrome.storage.local.get([this.storageKey()],t=>{const s=!t[this.storageKey()],r={[this.storageKey()]:s};chrome.storage.local.set(r,()=>{console.log("saved this "+this.storageKey()+".")}),o(this,F).removeAutoPaste(),s&&o(this,F).addAutoPaste()}),!0}}F=new WeakMap;class m{constructor(){if(this.instance)return console.log(this.key()),this.instance;this.instance=this,chrome.storage.local.get(this.key(),t=>{this.value=!!t[this.key()],this.load()})}key(){throw new Error("Checkbox クラスの key() を呼び出してはいけません")}command(){throw new Error("Checkbox クラスの command() を呼び出してはいけません")}element(){return document.getElementById(this.key())}load(){this.element()&&(this.unchecked(),this.get()&&this.checked(),console.log("loaded this "+this.key()+"."))}checked(){return this.element()?(this.element().checked=!0,!0):!1}unchecked(){return this.element()?(this.element().checked=!1,!0):!1}has(){return this.element()?this.element().checked:this.get()}get(){return this.value}set(){this.value=this.has();const t={[this.key()]:this.get()};chrome.storage.local.set(t,()=>{console.log("saved this "+this.key()+".")})}change(){return this.has()?this.checked():this.unchecked()}disabled(){throw new Error("Checkbox クラスの disabled() を呼び出してはいけません")}enabled(){throw new Error("Checkbox クラスの enabled() を呼び出してはいけません")}}h(m,"instance"),h(m,"value");class N extends m{key(){return e.CopyPasteCheckboxId}command(){return"copy-paste-form-value-toggle"}}h(N,"instance"),h(N,"value");class O extends m{key(){return e.HiddenCheckboxId}command(){return"copy-paste-form-value-hidden"}}h(O,"instance"),h(O,"value");class j extends m{key(){return e.FlashMessageCheckboxId}command(){return"copy-paste-form-value-message"}}h(j,"instance"),h(j,"value");class A extends m{key(){return e.AutoPasteCheckboxId}command(){return"copy-paste-form-value-autopaste"}disabled(){return this.element()?(this.element().disabled=!0,!0):!1}enabled(){return this.element()?(this.element().disabled=!1,!0):!1}}h(A,"instance"),h(A,"value");class T extends m{constructor(){return super(),this.autoPasteCheckbox||(this.autoPasteCheckbox=new A),this.instance}key(){return e.StorageCheckboxId}command(){return"copy-paste-form-value-storage"}unchecked(){return super.unchecked()?(this.autoPasteCheckbox.unchecked(),this.autoPasteCheckbox.disabled(),!0):!1}checked(){return super.checked()?(new A,this.autoPasteCheckbox.enabled(),!0):!1}}h(T,"instance"),h(T,"value"),h(T,"autoPasteCheckbox");class W{constructor(){h(this,"storageName");this.storageName=new p}clickEvent(){return chrome.storage.local.remove(this.storageName.get(),()=>{console.log("deleted this clipboard.")}),!0}}const Y=new a,Z=new z,q=new _,ee=new R,te=new V,se=new X,re=new G,oe=new Q,ae=new U,ne=new O,ie=new N,le=new j,D=new T,J=new A,ce=new W;chrome.runtime.onMessage.addListener(n=>(new p,setTimeout(()=>{switch(console.log(n),n){case ne.command():se.toggle();break;case ie.command():te.toggle();break;case le.command():re.toggle();break;case D.command():oe.toggle();break;case J.command():ae.toggle();break}if(!Y.checkFormCount())return console.log("form not exists. onMessage.addListener"),ee.show(),!1;switch(n){case"copy-paste-form-value-copy":Z.clickEvent();break;case"copy-paste-form-value-paste":q.clickEvent();break;case"copy-paste-form-value-remove":ce.clickEvent();break}},100),!0)),setTimeout(()=>!D.has()||!J.has()?!1:(q.clickEvent(),!0),1e3)})();
